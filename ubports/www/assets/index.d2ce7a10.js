(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function n(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerpolicy&&(i.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?i.credentials="include":l.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(l){if(l.ep)return;l.ep=!0;const i=n(l);fetch(l.href,i)}})();function I(){}function W(e){return e()}function D(){return Object.create(null)}function M(e){e.forEach(W)}function K(e){return typeof e=="function"}function Q(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let x;function N(e,t){return x||(x=document.createElement("a")),x.href=t,e===x.href}function J(e){return Object.keys(e).length===0}function P(e,t){e.appendChild(t)}function y(e,t,n){e.insertBefore(t,n||null)}function p(e){e.parentNode.removeChild(e)}function E(e){return document.createElement(e)}function V(e){return document.createTextNode(e)}function G(){return V(" ")}function Z(e,t,n,s){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n,s)}function o(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function ee(e){return Array.from(e.childNodes)}let A;function O(e){A=e}function te(){if(!A)throw new Error("Function called outside component initialization");return A}function ne(e){te().$$.on_mount.push(e)}const w=[],v=[],z=[],S=[],se=Promise.resolve();let H=!1;function le(){H||(H=!0,se.then(Y))}function T(e){z.push(e)}const C=new Set;let F=0;function Y(){const e=A;do{for(;F<w.length;){const t=w[F];F++,O(t),ie(t.$$)}for(O(null),w.length=0,F=0;v.length;)v.pop()();for(let t=0;t<z.length;t+=1){const n=z[t];C.has(n)||(C.add(n),n())}z.length=0}while(w.length);for(;S.length;)S.pop()();H=!1,C.clear(),O(e)}function ie(e){if(e.fragment!==null){e.update(),M(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(T)}}const re=new Set;function oe(e,t){e&&e.i&&(re.delete(e),e.i(t))}function ce(e,t,n,s){const{fragment:l,on_mount:i,on_destroy:r,after_update:c}=e.$$;l&&l.m(t,n),s||T(()=>{const h=i.map(W).filter(K);r?r.push(...h):M(h),e.$$.on_mount=[]}),c.forEach(T)}function ue(e,t){const n=e.$$;n.fragment!==null&&(M(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function fe(e,t){e.$$.dirty[0]===-1&&(w.push(e),le(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function ae(e,t,n,s,l,i,r,c=[-1]){const h=A;O(e);const u=e.$$={fragment:null,ctx:null,props:i,update:I,not_equal:l,bound:D(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(h?h.$$.context:[])),callbacks:D(),dirty:c,skip_bound:!1,root:t.target||h.$$.root};r&&r(u.root);let g=!1;if(u.ctx=n?n(e,t.props||{},(m,b,...d)=>{const L=d.length?d[0]:b;return u.ctx&&l(u.ctx[m],u.ctx[m]=L)&&(!u.skip_bound&&u.bound[m]&&u.bound[m](L),g&&fe(e,m)),b}):[],u.update(),g=!0,M(u.before_update),u.fragment=s?s(u.ctx):!1,t.target){if(t.hydrate){const m=ee(t.target);u.fragment&&u.fragment.l(m),m.forEach(p)}else u.fragment&&u.fragment.c();t.intro&&oe(e.$$.fragment),ce(e,t.target,t.anchor,t.customElement),Y()}O(h)}class he{$destroy(){ue(this,1),this.$destroy=I}$on(t,n){const s=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return s.push(n),()=>{const l=s.indexOf(n);l!==-1&&s.splice(l,1)}}$set(t){this.$$set&&!J(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const ge=function(){const e={ROLLEN_ROUND:1,ROLLEN_GRIP:2,RIEMEN_ROUND:3,RIEMEN_GRIP:4,rbLength:1700,rbWidth:150,rbMaxCount:173,trockerLength1:150,trocknerAusgangLength:160,glRiemenCount:4};return e.rb=[{name:"Trockner Eingang",engine:{count:15,type:e.ROLLEN_GRIP,side:"left"}},{name:"Ausricter Eingang",engine:{count:14,type:e.ROLLEN_GRIP,side:"right"}},{name:"Rollen Bahn 5",engine:{count:14,type:e.ROLLEN_GRIP,side:"left"}},{name:"Rollen Bahn 4",engine:{count:22,type:e.ROLLEN_GRIP,side:"right"}},{name:"Rollen Bahn 3",engine:{count:22,type:e.ROLLEN_GRIP,side:"left"}},{name:"Rollen Bahn 2",engine:{count:22,type:e.ROLLEN_GRIP,side:"right"}},{name:"Rollen Bahn 1",engine:{count:22,type:e.ROLLEN_GRIP,side:"left"}},{name:"Wender",engine:{count:26,type:e.ROLLEN_GRIP,side:"right"}},{name:"Pressen \xDCbergangs Tisch",engine:{count:16,type:e.ROLLEN_GRIP,side:"right"}}],e.ta=[{name:"Gestell Rollen1",engine:{count:13,type:e.ROLLEN_GRIP}},{name:"Gestell Rollen 2",engine:{count:9,type:e.ROLLEN_GRIP}}],e.trockerAusgangRiemen={name:"Gestell Riemen",engine:{count:6,type:e.RIEMEN_ROUND}},e.pressenTisch={name:"Proben Tisch",engine:{count:6,type:e.RIEMEN_GRIP}},e}();class de{constructor(t,n,s,l,i,r,c){this.assets=t,this.side=n,this.count=s,this.sX=l,this.sY=i,this.width=r,this.height=c}draw(t,n){let s=-1;for(let l=0;l<this.count;l++){s+=1;let i;if(this.side==="right")i=this.assets.rolleRight;else if(this.side==="left")i=this.assets.rolleLeft;else continue;let r=this.assets.rbGestellAluBlockLeft,c=this.assets.rbGestellAluBlockRight;c.style.transform="rotate(180deg)";let h=this.sX+s*10,u=6*n,g=0,m=6,b=i.height,d=h+2,L=8,f=6,_=b;t.drawImage(r,h,0,10,c.height),t.drawImage(c,h,r.height+i.height-L/2,10,c.height),t.drawImage(i,u,g,m,b,d,L,f,_)}}}class me{constructor(t,n,s,l,i,r){this.canvas=t,this.ctx=n,this.width=s,this.height=l,this.assets=r,this.updateHz(i),this._lastFrame=0-this._fps,this._engineFrame=-1,this.initialize(),console.log("[App.svelte] canvas size (x, y):",s,l)}initialize(){this.engines=[];let t=0;for(let n of ge.rb){let s=t,l=2,i=n.engine.count*10,r=this.canvas.height;t+=i,this.engines.push(new de(this.assets,n.engine.side,n.engine.count,s,l,i,r))}}updateHz(t){this._fps=600/t}draw(t){if(t-this._lastFrame>=this._fps){this._engineFrame+=1,this._lastFrame=t,this._engineFrame>5&&(this._engineFrame=1);for(let n of this.engines)n.draw(this.ctx,this._engineFrame)}}}function _e(e){let t,n,s,l,i,r,c,h,u,g,m,b,d,L,f,_,B,X,k,$,q,j;return{c(){t=E("main"),n=E("div"),s=E("input"),l=G(),i=E("canvas"),r=G(),c=E("img"),u=G(),g=E("img"),b=G(),d=E("img"),f=G(),_=E("img"),X=G(),k=E("img"),o(s,"class","hz-rb svelte-offbc8"),o(s,"type","number"),o(s,"min",0),o(s,"max",25),s.value=U,o(n,"class","overlay svelte-offbc8"),o(i,"class","svelte-offbc8"),o(t,"class","svelte-offbc8"),o(c,"id","rolleLeft"),N(c.src,h="assets/rolle-left_v2_6x296.png")||o(c,"src",h),o(c,"alt","rolle"),o(c,"class","svelte-offbc8"),o(g,"id","rolleRight"),N(g.src,m="assets/rolle-right_v2_6x296.png")||o(g,"src",m),o(g,"alt","rolle"),o(g,"class","svelte-offbc8"),o(d,"id","rbGestellAluBlock"),N(d.src,L="assets/rb-gestell-alu-block-left_10x10.png")||o(d,"src",L),o(d,"alt","gestell alu block"),o(d,"class","svelte-offbc8"),o(_,"id","rbGestellAluBlock"),N(_.src,B="assets/rb-gestell-alu-block-right_10x10.png")||o(_,"src",B),o(_,"alt","gestell alu block"),o(_,"class","svelte-offbc8"),o(k,"id","rbGestellQuer"),N(k.src,$="assets/rb-gestell-quer_10x300.png")||o(k,"src",$),o(k,"alt","gestell quer"),o(k,"class","svelte-offbc8")},m(a,R){y(a,t,R),P(t,n),P(n,s),P(t,l),P(t,i),e[7](i),y(a,r,R),y(a,c,R),e[8](c),y(a,u,R),y(a,g,R),e[9](g),y(a,b,R),y(a,d,R),e[10](d),y(a,f,R),y(a,_,R),e[11](_),y(a,X,R),y(a,k,R),q||(j=Z(s,"change",e[6]),q=!0)},p:I,i:I,o:I,d(a){a&&p(t),e[7](null),a&&p(r),a&&p(c),e[8](null),a&&p(u),a&&p(g),e[9](null),a&&p(b),a&&p(d),e[10](null),a&&p(f),a&&p(_),e[11](null),a&&p(X),a&&p(k),q=!1,j()}}}let U=12;function pe(e,t,n){let s,l,i,r,c,h;ne(()=>{const f=s.getContext("2d");n(0,s.width=1730,s),n(0,s.height=312,s),n(5,h=new me(s,f,s.width,s.height,U,{rolleLeft:l,rolleRight:i,rbGestellAluBlockLeft:r,rbGestellAluBlockRight:c})),function _(B){h.draw(B),requestAnimationFrame(_)}(0)});const u=f=>h.updateHz(parseInt(f.currentTarget.value));function g(f){v[f?"unshift":"push"](()=>{s=f,n(0,s)})}function m(f){v[f?"unshift":"push"](()=>{l=f,n(1,l)})}function b(f){v[f?"unshift":"push"](()=>{i=f,n(2,i)})}function d(f){v[f?"unshift":"push"](()=>{r=f,n(3,r)})}function L(f){v[f?"unshift":"push"](()=>{c=f,n(4,c)})}return[s,l,i,r,c,h,u,g,m,b,d,L]}class be extends he{constructor(t){super(),ae(this,t,pe,_e,Q,{})}}new be({target:document.getElementById("app")});
