(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerpolicy&&(l.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?l.credentials="include":i.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();function x(){}function J(e){return e()}function Y(){return Object.create(null)}function C(e){e.forEach(J)}function Z(e){return typeof e=="function"}function $(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let z;function A(e,t){return z||(z=document.createElement("a")),z.href=t,e===z.href}function ee(e){return Object.keys(e).length===0}function U(e,t){e.appendChild(t)}function _(e,t,n){e.insertBefore(t,n||null)}function d(e){e.parentNode.removeChild(e)}function y(e){return document.createElement(e)}function te(e){return document.createTextNode(e)}function N(){return te(" ")}function ne(e,t,n,s){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n,s)}function f(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function se(e){return Array.from(e.childNodes)}let G;function P(e){G=e}function ie(){if(!G)throw new Error("Function called outside component initialization");return G}function le(e){ie().$$.on_mount.push(e)}const O=[],w=[],X=[],K=[],re=Promise.resolve();let j=!1;function oe(){j||(j=!0,re.then(Q))}function D(e){X.push(e)}const T=new Set;let M=0;function Q(){const e=G;do{for(;M<O.length;){const t=O[M];M++,P(t),ue(t.$$)}for(P(null),O.length=0,M=0;w.length;)w.pop()();for(let t=0;t<X.length;t+=1){const n=X[t];T.has(n)||(T.add(n),n())}X.length=0}while(O.length);for(;K.length;)K.pop()();j=!1,T.clear(),P(e)}function ue(e){if(e.fragment!==null){e.update(),C(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(D)}}const ce=new Set;function fe(e,t){e&&e.i&&(ce.delete(e),e.i(t))}function ae(e,t,n,s){const{fragment:i,on_mount:l,on_destroy:u,after_update:a}=e.$$;i&&i.m(t,n),s||D(()=>{const h=l.map(J).filter(Z);u?u.push(...h):C(h),e.$$.on_mount=[]}),a.forEach(D)}function he(e,t){const n=e.$$;n.fragment!==null&&(C(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function me(e,t){e.$$.dirty[0]===-1&&(O.push(e),oe(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function de(e,t,n,s,i,l,u,a=[-1]){const h=G;P(e);const c=e.$$={fragment:null,ctx:null,props:l,update:x,not_equal:i,bound:Y(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(h?h.$$.context:[])),callbacks:Y(),dirty:a,skip_bound:!1,root:t.target||h.$$.root};u&&u(c.root);let m=!1;if(c.ctx=n?n(e,t.props||{},(p,L,...R)=>{const k=R.length?R[0]:L;return c.ctx&&i(c.ctx[p],c.ctx[p]=k)&&(!c.skip_bound&&c.bound[p]&&c.bound[p](k),m&&me(e,p)),L}):[],c.update(),m=!0,C(c.before_update),c.fragment=s?s(c.ctx):!1,t.target){if(t.hydrate){const p=se(t.target);c.fragment&&c.fragment.l(p),p.forEach(d)}else c.fragment&&c.fragment.c();t.intro&&fe(e.$$.fragment),ae(e,t.target,t.anchor,t.customElement),Q()}P(h)}class ge{$destroy(){he(this,1),this.$destroy=x}$on(t,n){const s=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return s.push(n),()=>{const i=s.indexOf(n);i!==-1&&s.splice(i,1)}}$set(t){this.$$set&&!ee(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const _e=function(){const e={ROLLEN_ROUND:1,ROLLEN_GRIP:2,RIEMEN_ROUND:3,RIEMEN_GRIP:4,rbLength:1700,rbWidth:150,rbMaxCount:173,trockerLength1:150,trocknerAusgangLength:160,glRiemenCount:4};return e.rb=[{name:"Trockner Eingang",engine:{count:15,type:e.ROLLEN_GRIP,side:"left"}},{name:"Ausrichter Eingang",engine:{count:14,type:e.ROLLEN_GRIP,side:"right"}},{name:"Rollen Bahn 5",engine:{count:14,type:e.ROLLEN_GRIP,side:"left"}},{name:"Rollen Bahn 4",engine:{count:22,type:e.ROLLEN_GRIP,side:"right"}},{name:"Rollen Bahn 3",engine:{count:22,type:e.ROLLEN_GRIP,side:"left"}},{name:"Rollen Bahn 2",engine:{count:22,type:e.ROLLEN_GRIP,side:"right"}},{name:"Rollen Bahn 1",engine:{count:22,type:e.ROLLEN_GRIP,side:"left"}},{name:"Wender",engine:{count:26,type:e.ROLLEN_GRIP,side:"right"}},{name:"Pressen \xDCbergangs Tisch",engine:{count:16,type:e.ROLLEN_GRIP,side:"right"}}],e.ta=[{name:"Gestell Rollen1",engine:{count:13,type:e.ROLLEN_GRIP}},{name:"Gestell Rollen 2",engine:{count:9,type:e.ROLLEN_GRIP}}],e.trockerAusgangRiemen={name:"Gestell Riemen",engine:{count:6,type:e.RIEMEN_ROUND}},e.pressenTisch={name:"Proben Tisch",engine:{count:6,type:e.RIEMEN_GRIP}},e}();class pe{constructor(t,n,s,i,l,u,a,h){this.name=t,this.assets=h,this.side=n,this.count=s,this.sX=i,this.sY=l,this.width=u,this.height=a,this._frameNumber}drawRiemen(t,n){const s=this.assets[`rbRiemen${this.count*20-10}x5`];if(s)t.drawImage(s,0,5*(this._frameNumber%3),s.width,s.height/3,n,this.side==="left"?11:this.assets.rolleLeft.height+(10-4-5),s.width,5);else throw`missing assets: "rbRiemen${this.count*10}x5"`}drawAluBlockLeft(t,n){let s=this.assets.rbAluBlockLeft;t.drawImage(s,n,0,s.width,s.height)}drawAluBlockRight(t,n){let s=this.assets.rbAluBlockRight;t.drawImage(s,n,this.assets.rbAluBlockLeft.height+(this.assets.rolleLeft.height-4),s.width,s.height)}drawRolle(t,n){let s;this.side==="left"?s=this.assets.rolleLeft:s=this.assets.rolleRight;let i=6*this._frameNumber,l=0,u=6,a=s.height,h=8,c=s.width/6,m=s.height;t.drawImage(s,i,l,u,a,n,h,c,m)}draw(t,n){let s=this._frameNumber||0;this._frameNumber=n;try{this.drawRiemen(t,this.sX+5)}catch{this._frameNumber=s}let i=-1;for(let l=0;l<this.count;l++){i+=1;let u=this.sX+i*this.assets.rbAluBlockLeft.width;this.drawAluBlockLeft(t,u),this.drawAluBlockRight(t,u),this.drawRolle(t,u+7)}}}class Re{constructor(t,n,s,i,l,u){this.canvas=t,this.ctx=n,this.width=s,this.height=i,this.assets=u,this.updateHz(l),this._lastFrame=0-this._fps,this._engineFrame=-1,this.initialize(),console.log("[App.svelte] canvas size (x, y):",s,i)}initialize(){this.engines=[];let t=0;for(let n of _e.rb){let s=t,i=0,l=n.engine.count*this.assets.rbAluBlockLeft.width,u=this.canvas.height;t+=l,this.engines.push(new pe(n.name,n.engine.side,n.engine.count,s,i,l,u,this.assets))}}updateHz(t){this._fps=600/t}draw(t){if(t-this._lastFrame>=this._fps){this._engineFrame+=1,this._lastFrame=t,this._engineFrame>5&&(this._engineFrame=0);for(let n of this.engines)n.draw(this.ctx,this._engineFrame)}}}function be(e){let t,n,s,i,l,u,a,h,c,m,p,L,R,k,I,b,q,v,r,F,B,E,S,H,W;return{c(){t=y("div"),n=y("input"),s=N(),i=y("main"),l=y("canvas"),u=N(),a=y("img"),c=N(),m=y("img"),L=N(),R=y("img"),I=N(),b=y("img"),v=N(),r=y("img"),B=N(),E=y("img"),f(n,"class","hz-rb svelte-1riw0q9"),f(n,"type","number"),f(n,"min",0),f(n,"max",25),n.value=V,f(t,"class","overlay svelte-1riw0q9"),f(l,"class","svelte-1riw0q9"),f(i,"class","svelte-1riw0q9"),A(a.src,h="assets/RolleLeft_6x296.png")||f(a,"src",h),f(a,"alt","rolle"),f(a,"class","svelte-1riw0q9"),A(m.src,p="assets/RolleRight_6x296.png")||f(m,"src",p),f(m,"alt","rolle"),f(m,"class","svelte-1riw0q9"),A(R.src,k="assets/RollenBahnAluBlockLeft_20x10.png")||f(R,"src",k),f(R,"alt","gestell alu block"),f(R,"class","svelte-1riw0q9"),A(b.src,q="assets/RollenBahnAluBlockRight_20x10.png")||f(b,"src",q),f(b,"alt","gestell alu block"),f(b,"class","svelte-1riw0q9"),A(r.src,F="assets/Riemen-290x5.png")||f(r,"src",F),f(r,"alt","rb riemen"),f(r,"class","svelte-1riw0q9"),A(E.src,S="assets/Riemen-270x5.png")||f(E,"src",S),f(E,"alt","rb riemen"),f(E,"class","svelte-1riw0q9")},m(o,g){_(o,t,g),U(t,n),_(o,s,g),_(o,i,g),U(i,l),e[9](l),_(o,u,g),_(o,a,g),e[10](a),_(o,c,g),_(o,m,g),e[11](m),_(o,L,g),_(o,R,g),e[12](R),_(o,I,g),_(o,b,g),e[13](b),_(o,v,g),_(o,r,g),e[14](r),_(o,B,g),_(o,E,g),e[15](E),H||(W=ne(n,"change",e[8]),H=!0)},p:x,i:x,o:x,d(o){o&&d(t),o&&d(s),o&&d(i),e[9](null),o&&d(u),o&&d(a),e[10](null),o&&d(c),o&&d(m),e[11](null),o&&d(L),o&&d(R),e[12](null),o&&d(I),o&&d(b),e[13](null),o&&d(v),o&&d(r),e[14](null),o&&d(B),o&&d(E),e[15](null),H=!1,W()}}}let V=12;function ye(e,t,n){let s,i,l,u,a,h,c,m;le(()=>{const r=s.getContext("2d");n(0,s.width=3460,s),n(0,s.height=312,s),n(7,m=new Re(s,r,s.width,s.height,V,{rolleLeft:i,rolleRight:l,rbAluBlockLeft:u,rbAluBlockRight:a,rbRiemen290x5:h,rbRiemen270x5:c})),function F(B){m.draw(B),requestAnimationFrame(F)}(0)});const p=r=>m.updateHz(parseInt(r.currentTarget.value));function L(r){w[r?"unshift":"push"](()=>{s=r,n(0,s)})}function R(r){w[r?"unshift":"push"](()=>{i=r,n(1,i)})}function k(r){w[r?"unshift":"push"](()=>{l=r,n(2,l)})}function I(r){w[r?"unshift":"push"](()=>{u=r,n(3,u)})}function b(r){w[r?"unshift":"push"](()=>{a=r,n(4,a)})}function q(r){w[r?"unshift":"push"](()=>{h=r,n(5,h)})}function v(r){w[r?"unshift":"push"](()=>{c=r,n(6,c)})}return[s,i,l,u,a,h,c,m,p,L,R,k,I,b,q,v]}class we extends ge{constructor(t){super(),de(this,t,ye,be,$,{})}}new we({target:document.getElementById("app")});
